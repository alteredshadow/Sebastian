BINARY_NAME ?= sebastian-container
DEBUG_LEVEL ?= "debug"
RABBITMQ_HOST ?= "127.0.0.1"
RABBITMQ_PASSWORD ?= "PqR9XJ957sfHqcxj6FsBMj4p"
MYTHIC_SERVER_HOST ?= "127.0.0.1"
MYTHIC_SERVER_GRPC_PORT ?= "17444"

build:
	go build -o $(BINARY_NAME) .
	cp $(BINARY_NAME) /$(BINARY_NAME)

run:
	cp /$(BINARY_NAME) .
	./$(BINARY_NAME)

run_custom:
	go build -o $(BINARY_NAME) .
	DEBUG_LEVEL=$(DEBUG_LEVEL) \
	RABBITMQ_HOST=$(RABBITMQ_HOST) \
	RABBITMQ_PASSWORD=$(RABBITMQ_PASSWORD) \
	MYTHIC_SERVER_HOST=$(MYTHIC_SERVER_HOST) \
	MYTHIC_SERVER_GRPC_PORT=$(MYTHIC_SERVER_GRPC_PORT) \
	./$(BINARY_NAME)
